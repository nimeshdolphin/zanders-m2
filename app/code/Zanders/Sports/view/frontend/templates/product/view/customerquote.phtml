<?php
$isLogin = $this->helper('Zanders\Sports\Helper\Data')->isLoggedIn();
if($isLogin){
    $_product = $this->getProduct();
    $_customer = $this->getDefaultShippingAddress();
?>
<h2 class="quotetitle">Create Customer Quote for <?= $_product->getName(); ?></h2>
<form class="form quote"
      action="#"
      id="quote-form"
      method="post"
      data-hasrequired="<?= $block->escapeHtmlAttr(__('* Required Fields')) ?>"
      data-mage-init='{"validation":{}}'>
    <fieldset class="fieldset your-information">
        <legend class="legend"><span><?= $block->escapeHtml(__('Your Contact Information')) ?></span></legend><br />
        <div class="field name required">
            <label class="label" for="name"><span><?= $block->escapeHtml(__('Name')) ?></span></label>
            <div class="control">
                <input name="name" id="name" title="<?= $block->escapeHtmlAttr(__('Name')) ?>" value="<?= $_customer->getName(); ?>" class="input-text" type="text" data-validate="{required:true}"/>
            </div>
        </div>
        <div class="field telephone">
            <label class="label" for="telephone"><span><?= $block->escapeHtml(__('Phone Number')) ?></span></label>
            <div class="control">
                <input name="telephone" id="telephone" title="<?= $block->escapeHtmlAttr(__('Phone Number')) ?>" value="<?= $_customer->getTelephone(); ?>" class="input-text" type="text" />
            </div>
        </div>
        <div class="field fax">
            <label class="label" for="fax"><span><?= $block->escapeHtml(__('Fax')) ?></span></label>
            <div class="control">
                <input name="fax" id="fax" title="<?= $block->escapeHtmlAttr(__('Fax')) ?>" value="<?= $_customer->getFax(); ?>" class="input-text" type="text" />
            </div>
        </div>
        <div class="field email required">
            <label class="label" for="email"><span><?= $block->escapeHtml(__('Email')) ?></span></label>
            <div class="control">
                <input name="email" id="email" title="<?= $block->escapeHtmlAttr(__('Email')) ?>" value="<?= $_customer->getEmail(); ?>" class="input-text" type="email" data-validate="{required:true, 'validate-email':true}"/>
            </div>
        </div>
        <div class="field street">
            <label class="label" for="street_1"><span><?= $block->escapeHtml(__('Street Address')) ?></span></label>
            <div class="control">
                <input name="street[]" id="street_1" title="<?= $block->escapeHtmlAttr(__('Street Address')) ?>" value="" class="input-text" type="text"/>
            </div>
            <div class="control">
                <input name="street[]" id="street_2" title="<?= $block->escapeHtmlAttr(__('Street Address 2')) ?>" value="" class="input-text" type="text"/>
            </div>
        </div>
        <div class="field city">
            <label class="label" for="city"><span><?= $block->escapeHtml(__('City')) ?></span></label>
            <div class="control">
                <input name="city" id="city" title="<?= $block->escapeHtmlAttr(__('City')) ?>" value="<?= $_customer->getCity(); ?>" class="input-text" type="text"/>
            </div>
        </div>
        <div class="field region_id">
            <label class="label" for="region_id"><span><?= $block->escapeHtml(__('State/Province')) ?></span></label>
            <div class="control">
                <select id="region_id" name="region_id" title="State/Province">
                    <option value="">Please select region, state or province</option>
                        <option value="1" title="Alabama">Alabama</option><option value="2" title="Alaska">Alaska</option><option value="3" title="American Samoa">American Samoa</option><option value="4" title="Arizona">Arizona</option><option value="5" title="Arkansas">Arkansas</option><option value="6" title="Armed Forces Africa">Armed Forces Africa</option><option value="7" title="Armed Forces Americas">Armed Forces Americas</option><option value="8" title="Armed Forces Canada">Armed Forces Canada</option><option value="9" title="Armed Forces Europe">Armed Forces Europe</option><option value="10" title="Armed Forces Middle East">Armed Forces Middle East</option><option value="11" title="Armed Forces Pacific">Armed Forces Pacific</option><option value="12" title="California">California</option><option value="13" title="Colorado">Colorado</option><option value="14" title="Connecticut">Connecticut</option><option value="15" title="Delaware">Delaware</option><option value="16" title="District of Columbia">District of Columbia</option><option value="17" title="Federated States Of Micronesia">Federated States Of Micronesia</option><option value="18" title="Florida">Florida</option><option value="19" title="Georgia">Georgia</option><option value="20" title="Guam">Guam</option><option value="21" title="Hawaii">Hawaii</option><option value="22" title="Idaho">Idaho</option><option value="23" title="Illinois">Illinois</option><option value="24" title="Indiana">Indiana</option><option value="25" title="Iowa">Iowa</option><option value="26" title="Kansas">Kansas</option><option value="27" title="Kentucky">Kentucky</option><option value="28" title="Louisiana">Louisiana</option><option value="29" title="Maine">Maine</option><option value="30" title="Marshall Islands">Marshall Islands</option><option value="31" title="Maryland">Maryland</option><option value="32" title="Massachusetts">Massachusetts</option><option value="33" title="Michigan">Michigan</option><option value="34" title="Minnesota">Minnesota</option><option value="35" title="Mississippi">Mississippi</option><option value="36" title="Missouri">Missouri</option><option value="37" title="Montana">Montana</option><option value="38" title="Nebraska">Nebraska</option><option value="39" title="Nevada">Nevada</option><option value="40" title="New Hampshire">New Hampshire</option><option value="41" title="New Jersey">New Jersey</option><option value="42" title="New Mexico">New Mexico</option><option value="43" title="New York">New York</option><option value="44" title="North Carolina">North Carolina</option><option value="45" title="North Dakota">North Dakota</option><option value="46" title="Northern Mariana Islands">Northern Mariana Islands</option><option value="47" title="Ohio">Ohio</option><option value="48" title="Oklahoma">Oklahoma</option><option value="49" title="Oregon">Oregon</option><option value="50" title="Palau">Palau</option><option value="51" title="Pennsylvania">Pennsylvania</option><option value="52" title="Puerto Rico">Puerto Rico</option><option value="53" title="Rhode Island">Rhode Island</option><option value="54" title="South Carolina">South Carolina</option><option value="55" title="South Dakota">South Dakota</option><option value="56" title="Tennessee">Tennessee</option><option value="57" title="Texas">Texas</option><option value="58" title="Utah">Utah</option><option value="59" title="Vermont">Vermont</option><option value="60" title="Virgin Islands">Virgin Islands</option><option value="61" title="Virginia">Virginia</option><option value="62" title="Washington">Washington</option><option value="63" title="West Virginia">West Virginia</option><option value="64" title="Wisconsin">Wisconsin</option><option value="65" title="Wyoming">Wyoming</option>
                </select>
                <script type="text/javascript">
                    require([
                        "jquery"
                    ], function($){
                        $('region_id').setAttribute('defaultValue',  "<?= $_customer->getRegionId(); ?>");
                    });
                </script>
            </div>
        </div>
        <div class="field zip">
            <label class="label" for="postcode"><span><?= $block->escapeHtml(__('Zip/Postal Code')) ?></span></label>
            <div class="control">
                <input name="postcode" id="postcode" title="<?= $block->escapeHtmlAttr(__('Zip/Postal Code')) ?>" value="<?= $_customer->getPostcode(); ?>" class="input-text" type="text"/>
            </div>
        </div>
    </fieldset>
    <fieldset class="fieldset contact-information">
        <legend class="legend"><span><?= $block->escapeHtml(__('Your Customers Information')) ?></span></legend><br />
        <div class="field customername required">
            <label class="label" for="customername"><span><?= $block->escapeHtml(__('Name')) ?></span></label>
            <div class="control">
                <input name="customername" id="customername" title="<?= $block->escapeHtmlAttr(__('Customer Name')) ?>" value="" class="input-text" type="text" data-validate="{required:true}"/>
            </div>
        </div>
        <div class="field customertelephone">
            <label class="label" for="customertelephone"><span><?= $block->escapeHtml(__('Phone Number')) ?></span></label>
            <div class="control">
                <input name="telephone" id="customertelephone" title="<?= $block->escapeHtmlAttr(__('Customer Phone Number')) ?>" value="" class="input-text" type="text" />
            </div>
        </div>
        <div class="field customeremail required">
            <label class="label" for="customeremail"><span><?= $block->escapeHtml(__('Email')) ?></span></label>
            <div class="control">
                <input name="customeremail" id="customeremail" title="<?= $block->escapeHtmlAttr(__('Customer Email')) ?>" value="" class="input-text" type="email" data-validate="{required:true, 'validate-email':true}"/>
            </div>
        </div>
        <div class="field customerstreet">
            <label class="label" for="customerstreet_1"><span><?= $block->escapeHtml(__('Street Address')) ?></span></label>
            <div class="control">
                <input name="customerstreet[]" id="customerstreet_1" title="<?= $block->escapeHtmlAttr(__('Customer Street Address')) ?>" value="" class="input-text" type="text"/>
            </div>
            <div class="control">
                <input name="customerstreet[]" id="customerstreet_2" title="<?= $block->escapeHtmlAttr(__('Customer Street Address 2')) ?>" value="" class="input-text" type="text"/>
            </div>
        </div>
        <div class="field customercity">
            <label class="label" for="customercity"><span><?= $block->escapeHtml(__('City')) ?></span></label>
            <div class="control">
                <input name="customercity" id="customercity" title="<?= $block->escapeHtmlAttr(__('Customer City')) ?>" value="" class="input-text" type="text"/>
            </div>
        </div>
        <div class="field customerregion_id">
            <label class="label" for="customerregion_id"><span><?= $block->escapeHtml(__('State/Province')) ?></span></label>
            <div class="control">
                <select id="customerregion_id" name="customerregion_id" title="Customer State/Province">
                    <option value="">Please select region, state or province</option>
                        <option value="1" title="Alabama">Alabama</option><option value="2" title="Alaska">Alaska</option><option value="3" title="American Samoa">American Samoa</option><option value="4" title="Arizona">Arizona</option><option value="5" title="Arkansas">Arkansas</option><option value="6" title="Armed Forces Africa">Armed Forces Africa</option><option value="7" title="Armed Forces Americas">Armed Forces Americas</option><option value="8" title="Armed Forces Canada">Armed Forces Canada</option><option value="9" title="Armed Forces Europe">Armed Forces Europe</option><option value="10" title="Armed Forces Middle East">Armed Forces Middle East</option><option value="11" title="Armed Forces Pacific">Armed Forces Pacific</option><option value="12" title="California">California</option><option value="13" title="Colorado">Colorado</option><option value="14" title="Connecticut">Connecticut</option><option value="15" title="Delaware">Delaware</option><option value="16" title="District of Columbia">District of Columbia</option><option value="17" title="Federated States Of Micronesia">Federated States Of Micronesia</option><option value="18" title="Florida">Florida</option><option value="19" title="Georgia">Georgia</option><option value="20" title="Guam">Guam</option><option value="21" title="Hawaii">Hawaii</option><option value="22" title="Idaho">Idaho</option><option value="23" title="Illinois">Illinois</option><option value="24" title="Indiana">Indiana</option><option value="25" title="Iowa">Iowa</option><option value="26" title="Kansas">Kansas</option><option value="27" title="Kentucky">Kentucky</option><option value="28" title="Louisiana">Louisiana</option><option value="29" title="Maine">Maine</option><option value="30" title="Marshall Islands">Marshall Islands</option><option value="31" title="Maryland">Maryland</option><option value="32" title="Massachusetts">Massachusetts</option><option value="33" title="Michigan">Michigan</option><option value="34" title="Minnesota">Minnesota</option><option value="35" title="Mississippi">Mississippi</option><option value="36" title="Missouri">Missouri</option><option value="37" title="Montana">Montana</option><option value="38" title="Nebraska">Nebraska</option><option value="39" title="Nevada">Nevada</option><option value="40" title="New Hampshire">New Hampshire</option><option value="41" title="New Jersey">New Jersey</option><option value="42" title="New Mexico">New Mexico</option><option value="43" title="New York">New York</option><option value="44" title="North Carolina">North Carolina</option><option value="45" title="North Dakota">North Dakota</option><option value="46" title="Northern Mariana Islands">Northern Mariana Islands</option><option value="47" title="Ohio">Ohio</option><option value="48" title="Oklahoma">Oklahoma</option><option value="49" title="Oregon">Oregon</option><option value="50" title="Palau">Palau</option><option value="51" title="Pennsylvania">Pennsylvania</option><option value="52" title="Puerto Rico">Puerto Rico</option><option value="53" title="Rhode Island">Rhode Island</option><option value="54" title="South Carolina">South Carolina</option><option value="55" title="South Dakota">South Dakota</option><option value="56" title="Tennessee">Tennessee</option><option value="57" title="Texas">Texas</option><option value="58" title="Utah">Utah</option><option value="59" title="Vermont">Vermont</option><option value="60" title="Virgin Islands">Virgin Islands</option><option value="61" title="Virginia">Virginia</option><option value="62" title="Washington">Washington</option><option value="63" title="West Virginia">West Virginia</option><option value="64" title="Wisconsin">Wisconsin</option><option value="65" title="Wyoming">Wyoming</option>
                </select>
            </div>
        </div>
        <div class="field customerpostcode">
            <label class="label" for="customerpostcode"><span><?= $block->escapeHtml(__('Zip/Postal Code')) ?></span></label>
            <div class="control">
                <input name="customerpostcode" id="customerpostcode" title="<?= $block->escapeHtmlAttr(__('Customer Zip/Postal Code')) ?>" value="" class="input-text" type="text"/>
            </div>
        </div>
    </fieldset>
    <fieldset class="fieldset contact-information">
        <legend class="legend"><span><?= $block->escapeHtml(__('Product Quote Information')) ?></span></legend><br />
        <div class="field customerprice required">
            <label class="label" for="customerprice"><span><?= $block->escapeHtml(__('Quoted Customer Price')) ?></span></label>
            <div class="control">
                <input name="customerprice" id="customerprice" title="<?= $block->escapeHtmlAttr(__('Customer Price')) ?>" value="" class="input-text" type="text" data-validate="{required:true}"/>
            </div>
        </div>
        <div class="field quotegivenby">
            <label class="label" for="quotegivenby"><span><?= $block->escapeHtml(__('Quote Given By')) ?></span></label>
            <div class="control">
                <input name="quotegivenby" id="quotegivenby" title="<?= $block->escapeHtmlAttr(__('Quote Given By')) ?>" value="" class="input-text" type="text"/>
            </div>
        </div>
        <div class="field quoteexpires required">
            <label class="label" for="quoteexpires"><span><?= $block->escapeHtml(__('Quoted Expires On')) ?></span></label>
            <div class="control">
                <input name="quoteexpires" id="quoteexpires" title="<?= $block->escapeHtmlAttr(__('Quoted Expires On')) ?>" value="" class="input-text" type="text" data-validate="{required:true}"/>
            </div>
        </div>
        <div class="field notes">
            <label class="label" for="notes"><span><?= $block->escapeHtml(__('Notes')) ?></span></label>
            <div class="control">
                <textarea name="notes" id="notes" class="input-text" cols="5" rows="3"></textarea>
            </div>
        </div>
    </fieldset>
    <div class="actions-toolbar">
        <div class="primary">
            <input type="hidden" name="hideit" id="hideit" value="" />
            <button type="submit" title="<?= $block->escapeHtmlAttr(__('Create Quote')) ?>" class="action submit primary">
                <span><?= $block->escapeHtml(__('Create Quote')) ?></span>
            </button>
        </div>
    </div>
</form>

<script type="text/javascript">
require([
"jquery",
"mage/calendar"
], function($){
    $('#quoteexpires').datepicker({
        prevText: '&#x3c;zurück', prevStatus: '',
        prevJumpText: '&#x3c;&#x3c;', prevJumpStatus: '',
        nextText: 'Vor&#x3e;', nextStatus: '',
        nextJumpText: '&#x3e;&#x3e;', nextJumpStatus: '',
        monthNames: ['January','February','March','April','May','June',
        'July','August','September','October','November','December'],
        monthNamesShort: ['Jan','Feb','Mar','Apr','May','Jun',
        'Jul','Aug','Sep','Oct','Nov','Dec'],
        dayNames: ['Sunday ','Monday','Tuesday ','Wednesday','Thursday','Friday','Saturday'],
        dayNamesShort: ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],
        dayNamesMin: ['Sun','Mon','Tue','Wed','Thu','Fri','Sat'],
        showMonthAfterYear: false,
        dateFormat:'d/m/yy'
    });
});
</script>
<?php } ?>